<section class="section-shell">
  <div class="page-width reveal">
    <div class="section-intro">
      <span class="eyebrow">{{ section.settings.eyebrow }}</span>
      <h2>{{ section.settings.heading }}</h2>
      <p class="text-muted">{{ section.settings.subheading }}</p>
    </div>

    <div class="grid grid--3">
      {% for block in section.blocks %}
        <article class="card step" {{ block.shopify_attributes }}>
          <span class="step__icon">{% render 'icon-line', icon: block.settings.icon %}</span>
          <h3>{{ block.settings.title }}</h3>
          <p class="text-muted">{{ block.settings.description }}</p>
        </article>
      {% endfor %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Cómo funciona",
  "settings": [
    {
      "type": "text",
      "id": "eyebrow",
      "label": "Eyebrow",
      "default": "Cómo funciona"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Título",
      "default": "Tres pasos, cero fricción"
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "Subtítulo",
      "default": "Suscríbete una vez y recibe cada mes un nuevo país con sabores listos para cocinar en minutos."
    }
  ],
  "blocks": [
    {
      "type": "step",
      "name": "Paso",
      "settings": [
        {
          "type": "select",
          "id": "icon",
          "label": "Ícono",
          "default": "box",
          "options": [
            { "value": "box", "label": "Caja" },
            { "value": "globe", "label": "Mundo" },
            { "value": "pan", "label": "Cocinar" }
          ]
        },
        {
          "type": "text",
          "id": "title",
          "label": "Título",
          "default": "Suscríbete"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Descripción",
          "default": "Elige plan mensual, trimestral o anual."
        }
      ]
    }
  ],
  "max_blocks": 3,
  "presets": [
    {
      "name": "Cómo funciona",
      "blocks": [
        {
          "type": "step",
          "settings": {
            "icon": "box",
            "title": "1. Suscríbete",
            "description": "Activa tu plan en menos de 1 minuto."
          }
        },
        {
          "type": "step",
          "settings": {
            "icon": "globe",
            "title": "2. Recibe un país nuevo cada mes",
            "description": "Tres blends y receta guiada en tu puerta."
          }
        },
        {
          "type": "step",
          "settings": {
            "icon": "pan",
            "title": "3. Cocina en menos de 30 minutos",
            "description": "Un plato insignia con instrucciones claras y QR video."
          }
        }
      ]
    }
  ]
}
{% endschema %}
